apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Reference base configuration (generic HelmRelease structure)
resources:
  - ../../base
  - namespace.yaml
  - karakeep-env.enc.yaml
  - ingress.yaml
  # - httproute.yaml  # Removed: using Ingress instead

# Override namespace for all resources
namespace: karakeep

# Strategic merge patches to customize for prod environment
patches:
  - path: helmrelease-patch.yaml
    target:
      kind: HelmRelease
      name: karakeep

